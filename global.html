<!DOCTYPE html><html><head>    <title>AltTranslate</title>		<script>	//google.load("language", "1");		var originalText = "";	var mesEvent;		safari.application.addEventListener('message',function( theMessageEvent ){		if( theMessageEvent.name == "searchThis" ){			var res = detectLang( theMessageEvent );		}	},false);		function detectLang( theMessageEvent ){		mesEvent = theMessageEvent;		originalText = mesEvent.message;				var s = document.createElement("script");		s.src = "http://api.microsofttranslator.com/V2/Ajax.svc/Detect?oncomplete=searchWord&appId=35BF4DD0D1A3A917DB0534E22955EB272AC8711C&text=" + encodeURI( originalText );		document.getElementsByTagName("head")[0].appendChild(s);	}		function searchWord( lng ){		var translateTo = safari.extension.settings[ 'language' ];		if( lng == translateTo ){			translateTo = safari.extension.settings[ 'secondary' ];		}				var s = document.createElement("script");		s.src = "http://api.microsofttranslator.com/V2/Ajax.svc/Translate?oncomplete=showTranslated&appId=35BF4DD0D1A3A917DB0534E22955EB272AC8711C&from=" + lng + "&to=" + translateTo + "&text=" + encodeURI( originalText );		document.getElementsByTagName("head")[0].appendChild(s);	}	function showTranslated( theWord ){		mesEvent.target.page.dispatchMessage('searchResult', theWord);	}		</script>	</head><body></body></html>